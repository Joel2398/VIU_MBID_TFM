[{"apiVersion":"influxdata.com/v2alpha1","kind":"Dashboard","metadata":{"name":"tasty-darwin-008001"},"spec":{"charts":[{"axes":[{"label":"Tiempo","name":"x"},{"name":"y"}],"binSize":20,"colors":[{"hex":"#FFFFFF"},{"hex":"#E69F00"},{"hex":"#56B4E9"},{"hex":"#009E73"},{"hex":"#F0E442"},{"hex":"#0072B2"},{"hex":"#D55E00"},{"hex":"#CC79A7"}],"height":4,"kind":"Heatmap","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Desviación estándar N_TREND vs N_PROD","queries":[{"query":"import \"date\"\nfrom(bucket: \"my-bucket\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"KEU2A21-----BS1---KFU1\")\n  |> filter(fn: (r) => r[\"_field\"] == \"122110RB1_FB_SEAT_STAT.122110RB1.N_PROD\" or r[\"_field\"] == \"122110RB1_FB_SEAT_STAT.122110RB1.N_TREND\")\n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> pivot(rowKey:[\"_time\"], columnKey: [\"_field\"], valueColumn: \"_value\")\n  |> map(fn: (r) => ({\n        _time: r._time,\n        N_TREND: r[\"122110RB1_FB_SEAT_STAT.122110RB1.N_TREND\"],\n        N_PROD: r[\"122110RB1_FB_SEAT_STAT.122110RB1.N_PROD\"],\n        Desviación: r[\"122110RB1_FB_SEAT_STAT.122110RB1.N_PROD\"] - r[\"122110RB1_FB_SEAT_STAT.122110RB1.N_TREND\"]\n    }))\n  |> yield(name: \"Desviación\")"},{"query":"from(bucket: \"my-bucket\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"KEU2A21-----BS1---KFU1\")\n  |> filter(fn: (r) => r[\"_field\"] == \"122110RB1_FB_SEAT_STAT.122110RB1.N_SOLL\")\n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")"}],"staticLegend":{},"width":10,"xCol":"_time","xTickStart":1730399029000,"xTotalTicks":8,"yCol":"Desviación"},{"axes":[{"base":"10","name":"x","scale":"linear"},{"base":"10","name":"y","scale":"linear"}],"colorizeRows":true,"colors":[{"id":"qk-4GTKh9UXq49yuOqdOs","name":"Nineteen Eighty Four","type":"scale","hex":"#31C0F6"},{"id":"WaWj1XJSItfMG2_rVGutZ","name":"Nineteen Eighty Four","type":"scale","hex":"#A500A5"},{"id":"G_EUfZdaOzo7mO5OuWyx_","name":"Nineteen Eighty Four","type":"scale","hex":"#FF7E27"}],"geom":"monotoneX","height":6,"hoverDimension":"x","kind":"Xy","legendColorizeRows":true,"legendOpacity":1,"legendOrientationThreshold":100000000,"name":"Producción semanal vs prevista","opacity":1,"orientationThreshold":100000000,"position":"overlaid","queries":[{"query":"from(bucket: \"my-bucket\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"KEU2A21-----BS1---KFU1\")\n  |> filter(fn: (r) => r[\"_field\"] == \"122110RB1_FB_SEAT_STAT.122110RB1.N_PROD\")\n  |> aggregateWindow(every: v.windowPeriod, fn: last, createEmpty: true)\n  |> yield(name: \"last\")"},{"query":"from(bucket: \"my-bucket\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"KEU2A21-----BS1---KFU1\")\n  |> filter(fn: (r) => r[\"_field\"] == \"122110RB1_FB_SEAT_STAT.122110RB1.N_TREND\")\n  |> filter(fn: (r) => r[\"_value\"] >= 0)  // Filtro para eliminar valores negativos\n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"last\")"}],"staticLegend":{"colorizeRows":true,"opacity":1,"orientationThreshold":100000000,"widthRatio":1},"width":10,"widthRatio":1,"xCol":"_time","yCol":"_value","yPos":4},{"colors":[{"id":"base","name":"laser","type":"text","hex":"#00C9FF"}],"decimalPlaces":2,"height":4,"kind":"Single_Stat","name":"Tiempo de ciclo anterior","queries":[{"query":"from(bucket: \"my-bucket\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"KEU2A21-----BS1---KFU1\")\n  |> filter(fn: (r) => r[\"_field\"] == \"122110RB1_FB_SEAT_STAT.122110RB1.T_Mem_Ciclo_Ant\")\n  |> aggregateWindow(every: v.windowPeriod, fn: mean, createEmpty: false)\n  |> yield(name: \"mean\")"}],"staticLegend":{},"width":2,"xPos":10},{"colors":[{"id":"0","name":"ruby","type":"min","hex":"#BF3D5E"},{"id":"1","name":"viridian","type":"max","hex":"#32B08C","value":3}],"decimalPlaces":2,"height":6,"kind":"Gauge","name":"Tiempo de ciclo actual","queries":[{"query":"from(bucket: \"my-bucket\")\n  |> range(start: v.timeRangeStart, stop: v.timeRangeStop)\n  |> filter(fn: (r) => r[\"_measurement\"] == \"KEU2A21-----BS1---KFU1\")\n  |> filter(fn: (r) => r[\"_field\"] == \"122110RB1_FB_SEAT_STAT.122110RB1.T_Ciclo_ACT\")\n  |> aggregateWindow(every: v.windowPeriod, fn: last, createEmpty: false)\n  |> yield(name: \"last\")"}],"staticLegend":{},"width":2,"xPos":10,"yPos":4}],"name":"Producción"}}]